
<!DOCTYPE html>
<!-- start of the document -->
<html> 

 <!-- The header. Information here doesn't make up elements of the webpage. 
 We'll define all the JavaScript stuff at the end, so we just put the title here. -->
 <head>
 <!-- Title to be displayed in browser -->
    <title>State Machine (Levels) using Switch / Case</title> 
</head>
 
 <!-- The body of the webpage, where all visible stuff lies. -->
 <body>
    <p align="center"> 
    <!--This draws the canvas on the webpage -->
      <canvas id="mycanvas"></canvas> 
    </p>
	<hr>
	
<div align="center"> 
  <!-- Name of Program -->
  <h2>State Machine (Levels) using Switch / Case</h2>

	  <table border="4" cellpadding="8">
	    
    <tr>
      <td> 
        <p>/* &lt;Description&gt; A State Machine allows you to change different 
          parameters of your game depending on it's current &quot;State&quot;. 
          Useful for creating Levels which may share some, but not necessarily 
          all game attributes. Only that which is within the current Case Statement 
          will be executed. &lt;/Description&gt;*/</p>
        <p>// The Starting State of the Game<br>
          var gameState = &quot;Intro&quot;;</p>
        <p>// An Array to store Button Data, in case you want more than 1<br>
          var myButton=[];</p>
        <p>// A Boolean which prevents you from zipping through more than one 
          level in case the level you are going to also uses button clicks.<br>
          var buttonClicked = 0;</p>
        <p>myButton.push({<br>
          x:170,<br>
          y:180,<br>
          Width:60,<br>
          Height:40<br>
          });</p>
        <p>var updateButton = function(b){<br>
          // Check for Collision<br>
          if( (mouseX &gt; b[0].x) &amp;&amp; <br>
          (mouseX &lt; b[0].x + b[0].Width) &amp;&amp;<br>
          (mouseY &gt; b[0].y) &amp;&amp;<br>
          (mouseY &lt; b[0].y + b[0].Height)) {<br>
          fill(255, 64, 64); // Rollover color<br>
          if (mouseIsPressed){<br>
          buttonClicked = 1;<br>
          fill(0, 255, 0); // Pressed color<br>
          b[0].x = 173; b[0].y = 183;<br>
          } <br>
          else{ b[0].x = 170; b[0].y = 180; }<br>
          }<br>
          else{ fill(255, 0, 0); // Idle color<br>
          } <br>
          };</p>
        <p>var drawButton = function(b){<br>
          rect(b[0].x, b[0].y, b[0].Width, b[0].Height);<br>
          fill(255, 255, 255);<br>
          text(&quot;Start&quot;, b[0].x + 18, b[0].y + 25);<br>
          };</p>
        <p>// Begin Game Loop<br>
          draw = function(){<br>
          background(0); // Clear the Screen Black<br>
          buttonClicked = 0; // Reset Button<br>
          myButton[0].x = 170; myButton[0].y = 180;<br>
          // What is drawn is determined by the String gameState<br>
          switch( gameState ) {<br>
          case &quot;Intro&quot;: // In case gameState = &quot;Intro&quot;<br>
          fill(255, 0, 0);<br>
          text(&quot;Welcome to&quot;, 160, 60); <br>
          text(&quot;The Name of the Game&quot;, 128, 89); <br>
          <br>
          updateButton(myButton);<br>
          drawButton(myButton);</p>
        <p> if(buttonClicked){<br>
          gameState = &quot;Main&quot;;<br>
          // Reset last key pressed if game uses keyboard commands<br>
          keyCode = 0; <br>
          }<br>
          break; // End of Case Statement</p>
        <p> case &quot;Main&quot;: <br>
          fill(255, 0, 0);<br>
          text(&quot;Game Code Goes Here&quot;, 132, 100);<br>
          text(&quot;Press the Enter Key to end Game&quot;, 106, 154);<br>
          if(keyCode === 10){<br>
          gameState = false; // default to Game Over<br>
          }<br>
          break;</p>
        <p> default:<br>
          fill(255, 0, 0);<br>
          text(&quot;Game Over&quot;, 172, 103);<br>
          updateButton(myButton);<br>
          drawButton(myButton);<br>
          if(buttonClicked){<br>
          gameState = 'Main';<br>
          keyCode = 0; // Reset if game uses keyboard commands<br>
          }<br>
          break;<br>
          <br>
          }<br>
          }; // End Game Loop</p>
        <p><br>
          /* Tutorials in plain English by Dillinger &copy; 2012. &lt;br&gt;<br>
          All code is owned by its respective author and made available under 
          <br>
          an MIT license:&lt;br&gt;<br>
          http://opensource.org/licenses/mit-license.php */</p>
        <p><br>
        </p>
        </td>
    </tr>
      </table>
 </div>

 </body>


 <!-- run all the JavaScript stuff -->
 <!-- Include the processing.js library -->
 <script src="../processing-1.3.6.min.js"></script> 
 
 <!-- The the name the program source code goes here-->
 
<script src="StateMachine.js"></script> 
 
 <script type="application/javascript">
//get the canvas that processingjs will use
  var canvas = document.getElementById("mycanvas"); 
//pass the function sketchProc (defined in myCode.js) to Processing's constructor.
  var processingInstance = new Processing(canvas, sketchProc); 
 </script>

</html>