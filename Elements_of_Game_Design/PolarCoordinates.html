
<!DOCTYPE html>
<!-- start of the document -->
<html> 

 <!-- The header. Information here doesn't make up elements of the webpage. We'll define all the javascript stuff at the end, so we just put the title here. -->
 <head>
    
<title>Movement using Polar Coordinates</title>
 <!-- Title to be displayed in browser -->
    <style type="text/css">
<!--
.style1 {font-family: Arial, Helvetica, sans-serif}
-->
    </style>
</head>
 
 <!-- The body of the webpage, where all visible stuff lies. -->
 <body>
    <p align="center">
      <canvas id="mycanvas"></canvas> <!--This draws the canvas on the webpage -->
    </p>
	<hr>
	<div align="center">
	<!-- Name of Program -->
	
  <h2>Movement using Polar Coordinates</h2>
	  <table border="4" cellpadding="8">
	    
    <tr>
      <td> 
        <p>/*&lt;Description&gt; Using Sin &amp; Cos to calculate correct distance 
          to move in X and Y based on Rotation. &lt;/Description&gt;*/</p>
        <p>var CAR_SPEED = 2;<br>
          var CAR_ROTATION_SPEED = 4;</p>
        <p>var car_Rotation = 0;<br>
          var car_Position_X = 187;<br>
          var car_Position_Y = 202;</p>
        <p>var car_X_Scale;<br>
          var car_Y_Scale;<br>
          var car_Velocity_X;<br>
          var car_Velocity_Y;</p>
        <p>var updateCar = function(){<br>
          if (car_Rotation &gt; 360){ car_Rotation -= 360; }<br>
          if (car_Rotation &lt; 0){ car_Rotation += 360; }</p>
        <p>// Amount to move in X and Y to correct Radial Coordinates<br>
          car_X_Scale = cos(car_Rotation);<br>
          car_Y_Scale = sin(car_Rotation);</p>
        <p>// Now that we've Scaled X and Y, calculate distance per frame<br>
          car_Velocity_X = (CAR_SPEED * car_X_Scale);<br>
          car_Velocity_Y = (CAR_SPEED * car_Y_Scale);</p>
        <p>// Move the car the correct distance in Cartesian Coordinates<br>
          car_Position_X += car_Velocity_X;<br>
          car_Position_Y += car_Velocity_Y;</p>
        <p> // Optional - Keep Sprite onscreen<br>
          if(car_Position_X &gt; 410){ car_Position_X = -10; }<br>
          if(car_Position_X &lt; -10){ car_Position_X = 410; }<br>
          if(car_Position_Y &gt; 410){ car_Position_Y = -10; }<br>
          if(car_Position_Y &lt; -10){ car_Position_Y = 410; }<br>
          };</p>
        <p>var drawCar = function(){<br>
          // Move Matrix 0,0 to Sprite Center<br>
          translate(car_Position_X, car_Position_Y); <br>
          rotate(car_Rotation); // Rotate Matrix<br>
          scale(0.5, 0.5); // Resize Sprite to taste</p>
        <p>// Draw Sprite<br>
          fill (255, 166, 0); // Car Color<br>
          rect(-40, -25, 80, 50); // Car Body<br>
          fill (0, 0, 0); // Black Wheels<br>
          rect(-36, 25, 29, 21);<br>
          rect(-36, -46, 29, 21);<br>
          rect(8, 25, 29, 21);<br>
          rect(8, -46, 29, 21);<br>
          resetMatrix();</p>
        <p>};</p>
        <p>// Use Arrow keys to control rotation<br>
          keyPressed = function(){<br>
          if(keyCode === LEFT) {<br>
          car_Rotation -= CAR_ROTATION_SPEED;}<br>
          if (keyCode === RIGHT) {<br>
          car_Rotation += CAR_ROTATION_SPEED;} <br>
          };</p>
        <p>// Begin Game Loop<br>
          draw = function () {<br>
          background(255); // Set Background color</p>
        <p>text(&quot;Click inside Game window to activate Keyboard control&quot;, 
          40, 24); </p>
        <p>text(&quot;Use Right and Left Arrow keys to steer car&quot;, 70, 43); 
        </p>
        <p>updateCar();<br>
          drawCar();</p>
        <p>}; // End Game Loop<br>
        </p>
        <p>/* Tutorials in plain English by Dillinger &copy; 2012. <br>
          All code is owned by its respective author and made available under 
          an MIT license:<br>
          http://opensource.org/licenses/mit-license.php */<br>
        </p>
        </td>
    </tr>
      </table>
 </div>

 </body>


 <!-- run all the javascript stuff -->
 <!-- Include the processing.js commands -->
 <script src="../processing-1.3.6.min.js"></script> 
 <!-- The actual source code for the program goes here-->
 
<script src="PolarCoordinates.js"></script> 
 <script type="application/javascript">
  var canvas = document.getElementById("mycanvas"); //get the canvas that processingjs will use
  var processingInstance = new Processing(canvas, sketchProc); //pass the function sketchProc (defined in myCode.js) to Processing's constructor.
 </script>

</html>